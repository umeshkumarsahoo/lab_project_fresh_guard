<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FreshGuard ‚Äì Shelf Life Predictor</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --accent1: #2b8cff;
      --accent2: #00d4ff;
      --muted: #6b7280;
      --card-w: 760px;
      --radius: 14px;
      --green:#10b981;
      --yellow:#f59e0b;
      --red:#ef4444;
      --orange:#fb923c;
    }

    html,body{height:100%;margin:0;font-family:"Poppins",Arial,sans-serif;background:linear-gradient(135deg,#e6f3ff,#eef7ff);display:flex;align-items:center;justify-content:center;padding:28px;}
    .card{width:min(var(--card-w),96vw);background:linear-gradient(180deg,rgba(255,255,255,0.95),rgba(255,255,255,0.92));border-radius:var(--radius);box-shadow:0 12px 36px rgba(18,38,63,0.08);padding:22px;display:grid;grid-template-columns:1fr 360px;gap:18px}
    .title{font-size:20px;font-weight:700;color:#0b2b4a;margin:0 0 8px}
    .subtitle{margin:0;font-size:13px;color:var(--muted);line-height:1.45}
    form{display:flex;flex-direction:column;gap:10px}
    .field{display:flex;flex-direction:column}
    label{font-size:13px;color:#123;margin-bottom:6px;font-weight:600}
    input[type="number"],select{padding:10px 12px;border-radius:10px;border:1px solid rgba(15,40,70,0.08);background:#fff;font-size:14px;outline:none}
    .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .grid-3{display:grid;grid-template-columns:1fr 1fr 1fr;gap:10px}
    .btn{margin-top:8px;padding:12px 14px;border-radius:12px;border:none;font-weight:700;cursor:pointer;background:linear-gradient(90deg,var(--accent1),var(--accent2));color:white}
    .result{margin-top:12px;padding:12px;border-radius:10px;background:linear-gradient(180deg,#f0fff4,#e7ffed);color:#064a28;font-weight:700}
    .side{display:flex;flex-direction:column;gap:12px}
    .illustration{background:linear-gradient(135deg,rgba(43,140,255,0.06),rgba(0,212,255,0.03));border-radius:10px;padding:14px;display:flex;align-items:center;justify-content:center;min-height:120px}
    .guide{background:#fff;border-radius:10px;padding:12px;border:1px solid rgba(12,35,64,0.03)}
    .color-row{display:flex;gap:8px;margin-top:8px}
    .color-box{flex:1;padding:10px;border-radius:8px;color:white;font-weight:700;text-align:center}
    .color-label{font-size:12px;color:var(--muted);margin-top:8px}
    footer{margin-top:14px;font-size:13px;color:var(--muted);text-align:center}
    @media (max-width:980px){.card{grid-template-columns:1fr}.side{order:-1}}
  </style>
</head>
<body>
  <div class="card">
    <div>
      <h3 class="title">üçá FreshGuard ‚Äî Shelf Life Predictor</h3>
      <p class="subtitle">Enter simple attributes. Missing technical values (Brix / Firmness) are auto-filled with dataset averages so anyone can use this.</p>

      <form action="/predict" method="POST" id="predict-form" autocomplete="off">
        <div class="grid-2">
          <div class="field">
            <label for="Weight">Weight (g)</label>
            <input id="Weight" name="Weight" type="number" step="0.01" placeholder="e.g. 150" required>
          </div>
          <div class="field">
            <label for="pH">pH</label>
            <input id="pH" name="pH" type="number" step="0.01" placeholder="e.g. 3.8" required>
          </div>
        </div>

        <!-- Brix & Firmness removed for common users; backend uses dataset mean if omitted -->
        <div class="grid-2">
          <div class="field">
            <label for="Color_Score">Color Score</label>
            <input id="Color_Score" name="Color_Score" type="number" step="0.01" placeholder="1 - 10" required>
          </div>
          <div class="field">
            <label for="Temperature">Temperature (¬∞C)</label>
            <input id="Temperature" name="Temperature" type="number" step="0.01" placeholder="e.g. 10" required>
          </div>
        </div>

        <!-- Produce_Type, Pretreatment, Packaging -->
        <div class="grid-3">
          <div class="field">
            <label for="Produce_Type">Produce Type</label>
            <select id="Produce_Type" name="Produce_Type" required>
              <option value="grape">grape</option>
              <option value="banana">banana</option>
              <option value="apple">apple</option>
              <option value="potato">potato</option>
              <option value="strawberry">strawberry</option>
              <option value="tomato">tomato</option>
              <option value="orange">orange</option>
              <option value="potto">potto</option>
              <option value="ornge">ornge</option>
              <option value="tomto">tomto</option>
              <option value="graepe">graepe</option>
              <option value="aple">aple</option>
              <option value="appel">appel</option>
              <option value="stawberry">stawberry</option>
              <option value="bananna">bananna</option>
            </select>
          </div>

          <div class="field">
            <label for="Pretreatment">Pretreatment</label>
            <select id="Pretreatment" name="Pretreatment" required>
              <option value="unknown">unknown</option>
              <option value="none">none</option>
              <option value="pre-cooled">pre-cooled</option>
              <option value="washed">washed</option>
              <option value="waxed">waxed</option>
            </select>
          </div>

          <div class="field">
            <label for="Packaging">Packaging</label>
            <select id="Packaging" name="Packaging" required>
              <option value="unknown">unknown</option>
              <option value="loose">loose</option>
              <option value="perforated_bag">perforated_bag</option>
              <option value="sealed_punnet">sealed_punnet</option>
              <option value="carton">carton</option>
            </select>
          </div>
        </div>

        <div style="display:flex;gap:10px;align-items:center;margin-top:6px">
          <button class="btn" type="submit">Predict Shelf Life</button>
          <div style="font-size:12px;color:var(--muted)">Brix & Firmness will use dataset averages if you don't know them.</div>
        </div>

        {% if result %}
          <div class="result">{{ result }}</div>
        {% endif %}
      </form>

      <!-- Footer team -->
      <footer>
        <div>Team: Devi Prasad ¬∑ Prachi ¬∑ Umesh ¬∑ Sneha</div>
      </footer>
    </div>

    <div class="side">
      <div class="illustration" aria-hidden="true">
        <!-- decorative SVG -->
        <svg width="160" height="120" viewBox="0 0 160 120" xmlns="http://www.w3.org/2000/svg">
          <defs>
            <linearGradient id="g1" x1="0" x2="1">
              <stop offset="0" stop-color="#ffd166"/>
              <stop offset="1" stop-color="#ff7a7a"/>
            </linearGradient>
          </defs>
          <g transform="translate(10,6)">
            <ellipse cx="60" cy="62" rx="46" ry="36" fill="url(#g1)" opacity="0.95"/>
            <circle cx="100" cy="40" r="24" fill="#8ce3a2" opacity="0.98"/>
          </g>
        </svg>
      </div>

      <div class="guide">
        <div style="font-weight:700;margin-bottom:6px">Color Score Guide</div>
        <div class="color-row">
          <div class="color-box" style="background:var(--green)">8‚Äì10<br><small>Very ripe / high color</small></div>
          <div class="color-box" style="background:var(--orange)">5‚Äì7<br><small>Moderately ripe</small></div>
          <div class="color-box" style="background:var(--yellow)">3‚Äì4<br><small>Less ripe</small></div>
          <div class="color-box" style="background:var(--red)">0‚Äì2<br><small>Poor color / damaged</small></div>
        </div>
        <div class="color-label">Use higher Color Score for deep, even color; low scores indicate discoloration or damage.</div>
      </div>

      <div class="guide" style="font-size:13px;color:var(--muted)">
        <strong>Note:</strong> If you don't know Brix or Firmness, leave them out ‚Äî the app will use dataset averages. For best results, pick the Produce Type that matches your fruit (includes alternate spellings used during training).
      </div>
    </div>
  </div>
</body>
</html>
